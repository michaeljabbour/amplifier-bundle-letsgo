bundle:
  name: behavior-letsgo-capabilities
  version: 1.0.0
  description: All LetsGo capability enhancements — security, secrets, sandbox, observability, modes, skills

includes:
  - bundle: letsgo:behaviors/security-policy
  - bundle: letsgo:behaviors/secrets
  - bundle: letsgo:behaviors/sandbox
  - bundle: letsgo:behaviors/observability
  # Memory system (order matters — capabilities must register before consumers)
  - bundle: letsgo:behaviors/memory-store          # 1. Data layer — registers memory.store
  - bundle: letsgo:behaviors/memory-memorability   # 2. Scoring capability — before capture
  - bundle: letsgo:behaviors/memory-boundaries     # 3. Boundary detection — before capture
  - bundle: letsgo:behaviors/memory-capture        # 4. Auto-capture from tool:post
  - bundle: letsgo:behaviors/memory-temporal       # 5. Temporal classification capability
  - bundle: letsgo:behaviors/memory-consolidation  # 6. Decay/boost cycle at session:end
  - bundle: letsgo:behaviors/memory-compression    # 7. Cluster merging at session:end
  - bundle: letsgo:behaviors/memory-inject         # 8. Prompt injection — reads from store last
  # Heartbeat
  - bundle: letsgo:behaviors/heartbeat
  # Gateway
  - bundle: letsgo:behaviors/gateway
  # Skills
  - bundle: letsgo:behaviors/skills

# Modes behavior for namespace resolution
includes:
  - bundle: git+https://github.com/microsoft/amplifier-bundle-modes@main#subdirectory=behaviors/modes.yaml

# Mode discovery — finds modes in letsgo:modes/ (careful, automation, letsgo-init)
hooks:
  - module: hooks-mode
    source: git+https://github.com/microsoft/amplifier-bundle-modes@main#subdirectory=modules/hooks-mode
    config:
      search_paths: ["@letsgo:modes"]

# Mode tool — enables /letsgo-init, /careful, /automation commands
tools:
  - module: tool-mode
    source: git+https://github.com/microsoft/amplifier-bundle-modes@main#subdirectory=modules/tool-mode
    config:
      gate_policy: "warn"
